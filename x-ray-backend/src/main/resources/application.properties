# Quarkus Application Configuration
quarkus.application.name=x-ray-backend

# HTTP Configuration for Lambda
quarkus.http.root-path=/

# Lambda Configuration
quarkus.lambda.handler=io.quarkus.amazon.lambda.http.LambdaHttpHandler

# OpenTelemetry Configuration for AWS X-Ray
quarkus.otel.exporter.otlp.endpoint=http://localhost:4317
quarkus.otel.exporter.otlp.protocol=grpc
quarkus.otel.traces.exporter=otlp
quarkus.otel.metrics.exporter=none
quarkus.otel.logs.exporter=none

# X-Ray specific configuration
quarkus.otel.propagators=tracecontext,baggage
quarkus.otel.traces.sampler=parentbased_traceidratio
quarkus.otel.traces.sampler.arg=1.0

# AWS X-Ray resource attributes
quarkus.otel.resource.attributes=service.name=x-ray-backend,service.version=1.0.0

# Enable tracing
quarkus.otel.sdk.disabled=false

# Logging Configuration
quarkus.log.level=INFO
quarkus.log.category."com.example.xray".level=DEBUG
quarkus.log.console.json=true

# Lambda-specific environment variable overrides
# These will be set by Lambda runtime or Terraform
%prod.quarkus.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4317}
%prod.quarkus.otel.resource.attributes=service.name=x-ray-backend,service.version=1.0.0,cloud.provider=aws,cloud.platform=aws_lambda
